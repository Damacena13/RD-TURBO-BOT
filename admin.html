<div id="lista-clientes" class="space-y-4">
    </div>

<script>
    db.collection('usuarios').onSnapshot(snap => {
        const lista = document.getElementById('lista-clientes');
        lista.innerHTML = '';
        snap.forEach(doc => {
            const user = doc.data();
            lista.innerHTML += `
                <div class="p-4 bg-slate-900 rounded-xl flex justify-between items-center border border-gray-700">
                    <div>
                        <p class="text-white font-bold">${user.email}</p>
                        <p class="text-xs ${user.status === 'liberado' ? 'text-green-500' : 'text-yellow-500'}">
                            STATUS: ${user.status.toUpperCase()}
                        </p>
                    </div>
                    <button onclick="liberarUsuario('${doc.id}')" class="bg-green-600 px-4 py-2 rounded-lg text-xs font-black">
                        LIBERAR ACESSO
                    </button>
                </div>
            `;
        });
    });

    function liberarUsuario(id) {
        db.collection('usuarios').doc(id).update({ status: 'liberado' })
        .then(() => alert("Assinatura Ativada com Sucesso!"));
    }
</script>
